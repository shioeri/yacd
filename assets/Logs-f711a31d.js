import{r as u,R as x,P as h,j as t,b as y,H as R,J as T,v as P,K as L,u as N,C as w,S as C,L as W,N as O,g as k,O as z,e as I,c as E}from"./index-ce8b21b5.js";import{a as M,F as $}from"./index.esm-8c415135.js";import{r as F,s as H,f as A}from"./logs-9df51588.js";import{d as B}from"./debounce-c1ba2006.js";import{u as D}from"./useRemainingViewPortHeight-7085ae8c.js";import{F as K,p as q}from"./Fab-2e22ba4c.js";import{P as J,a as V}from"./play-1de0921b.js";function f(){return f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},f.apply(this,arguments)}function Y(e,r){if(e==null)return{};var s=G(e,r),o,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}function G(e,r){if(e==null)return{};var s={},o=Object.keys(e),a,n;for(n=0;n<o.length;n++)a=o[n],!(r.indexOf(a)>=0)&&(s[a]=e[a]);return s}var _=u.forwardRef(function(e,r){var s=e.color,o=s===void 0?"currentColor":s,a=e.size,n=a===void 0?24:a,l=Y(e,["color","size"]);return x.createElement("svg",f({ref:r,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),x.createElement("circle",{cx:"11",cy:"11",r:"8"}),x.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});_.propTypes={color:h.string,size:h.oneOfType([h.string,h.number])};_.displayName="Search";const Q=_,U="_RuleSearch_bd30s_1",X="_RuleSearchContainer_bd30s_5",Z="_inputWrapper_bd30s_10",ee="_input_bd30s_10",te="_iconWrapper_bd30s_36",p={RuleSearch:U,RuleSearchContainer:X,inputWrapper:Z,input:ee,iconWrapper:te};function se({dispatch:e,searchText:r,updateSearchText:s}){const[o,a]=u.useState(r),n=u.useCallback(i=>{e(s(i))},[e,s]),l=u.useMemo(()=>B(n,300),[n]),g=i=>{a(i.target.value),l(i.target.value)};return t.jsx("div",{className:p.RuleSearch,children:t.jsxs("div",{className:p.RuleSearchContainer,children:[t.jsx("div",{className:p.inputWrapper,children:t.jsx("input",{type:"text",value:o,onChange:g,className:p.input})}),t.jsx("div",{className:p.iconWrapper,children:t.jsx(Q,{size:20})})]})})}const oe=e=>({searchText:R(e),updateSearchText:T}),re=y(oe)(se),ae="_logMeta_7a1x3_1",ne="_logType_7a1x3_8",ce="_logTime_7a1x3_18",ie="_logText_7a1x3_24",le="_logsWrapper_7a1x3_37",pe="_logPlaceholder_7a1x3_51",ge="_logPlaceholderIcon_7a1x3_64",de="_search_7a1x3_68",c={logMeta:ae,logType:ne,logTime:ce,logText:ie,logsWrapper:le,logPlaceholder:pe,logPlaceholderIcon:ge,search:de},{useCallback:v,memo:he,useEffect:ue}=I,m=30,xe={debug:"#28792c",info:"var(--bg-log-info-tag)",warning:"#b99105",error:"#c11c1c"};function me({time:e,even:r,payload:s,type:o}){const a=E({even:r},"log");return t.jsx("div",{className:a,children:t.jsxs("div",{className:c.logMeta,children:[t.jsx("div",{className:c.logTime,children:e}),t.jsx("div",{className:c.logType,style:{backgroundColor:xe[o]},children:o}),t.jsx("div",{className:c.logText,children:s})]})})}function fe(e,r){return r[e].id}const b=he(({index:e,style:r,data:s})=>{const o=s[e];return t.jsx("div",{style:r,children:t.jsx(me,{...o})})},M);b.displayName="MemoRow";function _e({dispatch:e,logLevel:r,apiConfig:s,logs:o,logStreamingPaused:a}){const n=P(),l=v(()=>{a?F({...s,logLevel:r}):H(),n.app.updateAppConfig("logStreamingPaused",!a)},[s,r,a,n.app]),g=v(S=>e(L(S)),[e]);ue(()=>{A({...s,logLevel:r},g)},[s,r,g]);const[i,j]=D(),{t:d}=N();return t.jsxs("div",{children:[t.jsx(w,{title:d("Logs")}),t.jsx("div",{className:c.search,children:t.jsx(re,{})}),t.jsx("div",{ref:i,style:{paddingBottom:m},children:o.length===0?t.jsxs("div",{className:c.logPlaceholder,style:{height:j-m},children:[t.jsx("div",{className:c.logPlaceholderIcon,children:t.jsx(C,{width:200,height:200})}),t.jsx("div",{children:d("no_logs")})]}):t.jsxs("div",{className:c.logsWrapper,children:[t.jsx($,{height:j-m,width:"100%",itemCount:o.length,itemSize:80,itemData:o,itemKey:fe,children:b}),t.jsx(K,{icon:a?t.jsx(J,{size:16}):t.jsx(V,{size:16}),mainButtonStyles:a?{background:"#e74c3c"}:{},style:q,text:d(a?"Resume Refresh":"Pause Refresh"),onClick:l})]})})]})}const je=e=>({logs:W(e),logLevel:O(e),apiConfig:k(e),logStreamingPaused:z(e)}),Le=y(je)(_e);export{Le as default};
